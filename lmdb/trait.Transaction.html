<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `Transaction` trait in crate `lmdb`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, Transaction">

    <title>lmdb::Transaction - Rust</title>

    <link rel="stylesheet" type="text/css" href="../normalize.css">
    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    
    
</head>
<body class="rustdoc trait">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'>Trait Transaction</p><div class="block items"><ul><li><a href="#required-methods">Required Methods</a></li><li><a href="#provided-methods">Provided Methods</a></li><li><a href="#implementors">Implementors</a></li></ul></div><p class='location'><a href='index.html'>lmdb</a></p><script>window.sidebarCurrent = {name: 'Transaction', ty: 'trait', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Trait <a href='index.html'>lmdb</a>::<wbr><a class="trait" href=''>Transaction</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../src/lmdb/transaction.rs.html#16-105' title='goto source code'>[src]</a></span></h1>
<pre class='rust trait'>pub trait Transaction: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> {
    fn <a href='#tymethod.txn' class='fnname'>txn</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.pointer.html">*mut </a><a class="enum" href="../lmdb_sys/ffi/enum.MDB_txn.html" title="enum lmdb_sys::ffi::MDB_txn">MDB_txn</a>;

    fn <a href='#method.commit' class='fnname'>commit</a>(self) -&gt; <a class="type" href="../lmdb/type.Result.html" title="type lmdb::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">()</a>&gt; { ... }
    fn <a href='#method.abort' class='fnname'>abort</a>(self) { ... }
    unsafe fn <a href='#method.open_db' class='fnname'>open_db</a>(&amp;self, name: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;) -&gt; <a class="type" href="../lmdb/type.Result.html" title="type lmdb::Result">Result</a>&lt;<a class="struct" href="../lmdb/struct.Database.html" title="struct lmdb::Database">Database</a>&gt; { ... }
    fn <a href='#method.get' class='fnname'>get</a>&lt;'txn, K&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;'txn self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;database: <a class="struct" href="../lmdb/struct.Database.html" title="struct lmdb::Database">Database</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key: &amp;K<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../lmdb/type.Result.html" title="type lmdb::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;'txn [</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;</span>,
    { ... }
    fn <a href='#method.open_ro_cursor' class='fnname'>open_ro_cursor</a>&lt;'txn&gt;(&amp;'txn self, db: <a class="struct" href="../lmdb/struct.Database.html" title="struct lmdb::Database">Database</a>) -&gt; <a class="type" href="../lmdb/type.Result.html" title="type lmdb::Result">Result</a>&lt;<a class="struct" href="../lmdb/struct.RoCursor.html" title="struct lmdb::RoCursor">RoCursor</a>&lt;'txn&gt;&gt; { ... }
    fn <a href='#method.db_flags' class='fnname'>db_flags</a>(&amp;self, db: <a class="struct" href="../lmdb/struct.Database.html" title="struct lmdb::Database">Database</a>) -&gt; <a class="type" href="../lmdb/type.Result.html" title="type lmdb::Result">Result</a>&lt;<a class="struct" href="../lmdb/struct.DatabaseFlags.html" title="struct lmdb::DatabaseFlags">DatabaseFlags</a>&gt; { ... }
}</pre><div class='docblock'><p>An LMDB transaction.</p>

<p>All database operations require a transaction.</p>
</div>
            <h2 id='required-methods'>Required Methods</h2>
            <div class='methods'>
        <h3 id='tymethod.txn' class='method'><span id='txn.v' class='invisible'><code>fn <a href='#tymethod.txn' class='fnname'>txn</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.pointer.html">*mut </a><a class="enum" href="../lmdb_sys/ffi/enum.MDB_txn.html" title="enum lmdb_sys::ffi::MDB_txn">MDB_txn</a></code></span></h3><div class='docblock'><p>Returns a raw pointer to the underlying LMDB transaction.</p>

<p>The caller <strong>must</strong> ensure that the pointer is not used after the
lifetime of the transaction.</p>
</div></div>
            <h2 id='provided-methods'>Provided Methods</h2>
            <div class='methods'>
        <h3 id='method.commit' class='method'><span id='commit.v' class='invisible'><code>fn <a href='#method.commit' class='fnname'>commit</a>(self) -&gt; <a class="type" href="../lmdb/type.Result.html" title="type lmdb::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">()</a>&gt;</code></span></h3><div class='docblock'><p>Commits the transaction.</p>

<p>Any pending operations will be saved.</p>
</div><h3 id='method.abort' class='method'><span id='abort.v' class='invisible'><code>fn <a href='#method.abort' class='fnname'>abort</a>(self)</code></span></h3><div class='docblock'><p>Aborts the transaction.</p>

<p>Any pending operations will not be saved.</p>
</div><h3 id='method.open_db' class='method'><span id='open_db.v' class='invisible'><code>unsafe fn <a href='#method.open_db' class='fnname'>open_db</a>(&amp;self, name: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;) -&gt; <a class="type" href="../lmdb/type.Result.html" title="type lmdb::Result">Result</a>&lt;<a class="struct" href="../lmdb/struct.Database.html" title="struct lmdb::Database">Database</a>&gt;</code></span></h3><div class='docblock'><p>Opens a database in the transaction.</p>

<p>If <code>name</code> is <code>None</code>, then the default database will be opened, otherwise
a named database will be opened. The database handle will be private to
the transaction until the transaction is successfully committed. If the
transaction is aborted the returned database handle should no longer be
used.</p>

<p>Prefer using <code>Environment::open_db</code>.</p>

<h2 id='safety' class='section-header'><a href='#safety'>Safety</a></h2>
<p>This function (as well as <code>Environment::open_db</code>,
<code>Environment::create_db</code>, and <code>Database::create</code>) <strong>must not</strong> be called
from multiple concurrent transactions in the same environment. A
transaction which uses this function must finish (either commit or
abort) before any other transaction may use this function.</p>
</div><h3 id='method.get' class='method'><span id='get.v' class='invisible'><code>fn <a href='#method.get' class='fnname'>get</a>&lt;'txn, K&gt;(&amp;'txn self, database: <a class="struct" href="../lmdb/struct.Database.html" title="struct lmdb::Database">Database</a>, key: &amp;K) -&gt; <a class="type" href="../lmdb/type.Result.html" title="type lmdb::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;'txn [</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;K: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;,&nbsp;</span></code></span></h3><div class='docblock'><p>Gets an item from a database.</p>

<p>This function retrieves the data associated with the given key in the
database. If the database supports duplicate keys
(<code>DatabaseFlags::DUP_SORT</code>) then the first data item for the key will be
returned. Retrieval of other items requires the use of
<code>Transaction::cursor_get</code>. If the item is not in the database, then
<code>Error::NotFound</code> will be returned.</p>
</div><h3 id='method.open_ro_cursor' class='method'><span id='open_ro_cursor.v' class='invisible'><code>fn <a href='#method.open_ro_cursor' class='fnname'>open_ro_cursor</a>&lt;'txn&gt;(&amp;'txn self, db: <a class="struct" href="../lmdb/struct.Database.html" title="struct lmdb::Database">Database</a>) -&gt; <a class="type" href="../lmdb/type.Result.html" title="type lmdb::Result">Result</a>&lt;<a class="struct" href="../lmdb/struct.RoCursor.html" title="struct lmdb::RoCursor">RoCursor</a>&lt;'txn&gt;&gt;</code></span></h3><div class='docblock'><p>Open a new read-only cursor on the given database.</p>
</div><h3 id='method.db_flags' class='method'><span id='db_flags.v' class='invisible'><code>fn <a href='#method.db_flags' class='fnname'>db_flags</a>(&amp;self, db: <a class="struct" href="../lmdb/struct.Database.html" title="struct lmdb::Database">Database</a>) -&gt; <a class="type" href="../lmdb/type.Result.html" title="type lmdb::Result">Result</a>&lt;<a class="struct" href="../lmdb/struct.DatabaseFlags.html" title="struct lmdb::DatabaseFlags">DatabaseFlags</a>&gt;</code></span></h3><div class='docblock'><p>Gets the option flags for the given database in the transaction.</p>
</div></div>
        <h2 id='implementors'>Implementors</h2>
        <ul class='item-list' id='implementors-list'>
    <li><code>impl&lt;'env&gt; Transaction for <a class="struct" href="../lmdb/struct.RoTransaction.html" title="struct lmdb::RoTransaction">RoTransaction</a>&lt;'env&gt;</code></li>
<li><code>impl&lt;'env&gt; Transaction for <a class="struct" href="../lmdb/struct.RwTransaction.html" title="struct lmdb::RwTransaction">RwTransaction</a>&lt;'env&gt;</code></li>
</ul><script type="text/javascript" async
                         src="../implementors/lmdb/trait.Transaction.js">
                 </script></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "lmdb";
    </script>
    <script src="../main.js"></script>
    <script defer src="../search-index.js"></script>
</body>
</html>